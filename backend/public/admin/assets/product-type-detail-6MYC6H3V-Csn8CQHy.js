import{u as x}from"./chunk-BZKLQPWW-Bm0f6_pj.js";import{u as T}from"./chunk-VWNSX5WA-BY70LQXg.js";import{q as c,S as b,d as j,eP as S,a as v,j as e,dE as w,eQ as D,s as q,b as l,C as m,H as y,A as C,e as _}from"./index-HrqC_Gjd.js";import{u as E,a as k}from"./chunk-B5GTMFNM-TWFpRcfV.js";import{S as A}from"./chunk-UR2E444G-Dxg_E1qB.js";import"./chunk-3IW4HYUP-B0hjLMKq.js";import{u as Q,D as N}from"./chunk-OMP35ZTD-BzF4W0Sz.js";import"./lodash-DnQioFv5.js";import"./chunk-2XYHZG6S-TOWhaigI.js";import"./chunk-E3YGDIJC-Cs2OmRxi.js";import{P as z}from"./pencil-square-m42K-ws3.js";import{T as K}from"./trash-Cj0dULeA.js";import"./use-prompt-B2nwlCmB.js";import"./prompt-DzgdWoNF.js";import"./chunk-FTXJRXMD-2DipOQTP.js";import"./chunk-ADOCJB6L-oyws-Ex1.js";import"./chunk-P3UUX2T6-CoxaAzXV.js";import"./index-DZRnaetd.js";import"./chunk-C76H5USB-CPsw4htd.js";import"./Trans-EQ5E-fso.js";import"./x-mark-mini-Q_ZRZRmQ.js";import"./chunk-YEDAFXMB-B43R7CK6.js";import"./chunk-AOFGTNG6-Dh0uMGDi.js";import"./chunk-WX2SMNCD-CTOHXE5S.js";import"./plus-mini-JAMyv6UA.js";import"./command-bar-CQ2ojk6i.js";import"./index-Bm0_N0_B.js";import"./chunk-QAF7PVQE-Dz18IPLi.js";import"./format-G2WeL2O3.js";import"./date-picker-B0rw1wqZ.js";import"./popover-sllarloD.js";import"./triangle-left-mini-BifPdMwa.js";var L=t=>({queryKey:D.detail(t),queryFn:async()=>q.admin.productType.retrieve(t)}),Pe=async({params:t})=>{const r=t.id,a=L(r);return c.getQueryData(a.queryKey)??await c.fetchQuery(a)},M=({productType:t})=>{const{t:r}=l(),a=x(t.id);return e.jsxs(m,{className:"flex items-center justify-between",children:[e.jsx(y,{children:t.value}),e.jsx(C,{groups:[{actions:[{label:r("actions.edit"),icon:e.jsx(z,{}),to:"edit"}]},{actions:[{label:r("actions.delete"),icon:e.jsx(K,{}),onClick:a}]}]})]})},u=10,O=({productType:t})=>{const{t:r}=l(),{searchParams:a,raw:i}=E({pageSize:u}),{products:o,count:n,isPending:s,isError:f,error:g}=_({...a,type_id:[t.id]}),h=k(["product_types"]),p=T(),{table:P}=Q({columns:p,data:o,count:(o==null?void 0:o.length)||0,getRowId:d=>d.id,pageSize:u});if(f)throw g;return e.jsxs(m,{className:"divide-y p-0",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsx(y,{level:"h2",children:r("products.domain")})}),e.jsx(N,{table:P,filters:h,isLoading:s,columns:p,count:n,pageSize:u,navigateTo:({original:d})=>`/products/${d.id}`,orderBy:[{key:"title",label:r("fields.title")},{key:"created_at",label:r("fields.createdAt")},{key:"updated_at",label:r("fields.updatedAt")}],queryObject:i,search:!0,pagination:!0})]})},xe=()=>{const{id:t}=b(),r=j(),{product_type:a,isPending:i,isError:o,error:n}=S(t,void 0,{initialData:r}),{getWidgets:s}=v();if(i||!a)return e.jsx(w,{sections:2,showJSON:!0,showMetadata:!0});if(o)throw n;return e.jsxs(A,{widgets:{after:s("product_type.details.after"),before:s("product_type.details.before")},showJSON:!0,showMetadata:!0,data:a,children:[e.jsx(M,{productType:a}),e.jsx(O,{productType:a})]})};export{xe as Component,Pe as loader};
